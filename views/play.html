{{#def.include('template/head')}}
<style media="screen">
  body{
    background: #1DA1F2;
    overflow:hidden;
  }
  .play{
    float: left;
    height: 100%;
    width: 25%;
    position:relative;
    user-select: none;
  }
  .play.classic{

  }
  .play .soon{
    height: 100%;
  }
  .play p{
    text-align: center;
    position: relative;
    top: 50%;
    transform: translateY(-50%);
    margin: auto;
    color: #1DA1F2;
    width: 50%;
    font-size: 2.2vw;
    font-weight: 500;
    cursor: pointer;
  }
  img{
    max-width: 100%;
    width: 50%;
    margin: auto;
    position: absolute;
    top: 0; left: 0; bottom: 0; right: 0;
    cursor: pointer;
  }
  .soon p{
    color: #FFFFFF;
    font-size: 1.7vw;
  }
  .soon img{
    opacity: 0.7;
  }
  .box{
    position: absolute;
    width: 0%;
    height: 100%;
    background: rgb(21, 32, 43);
    top: 0; bottom: 0; right: 0;
  }
  .left0{
     left: 0;
  }
  .row{
    height: 100%;
    display: none;
  }
  .one p{
    color: white;
  }
  .two p{
    color: white;
  }
  .row:after {
    content: "";
    display: table;
    clear: both;
  }
  .c-rocket {
    width: 35%;
    position: fixed;
    margin: auto;
    left: -35%;
  }

  .c-rocket__flame {
    transform-origin: 20% 20%;
  }
  @media only screen and (max-width: 750px) {
    .play{
      width: 100%;
      height: 25%;
    }
    .c-rocket {
      width: 100%;
    }
    .play p{
      font-size: 5.75vw;
    }
    .soon p{
      font-size: 4.7vw;
    }
    .row{
      padding:1rem;
      height: calc(100% - 2rem);
    }
  }

</style>
<div class="row" style="">
  <div class="play one">
    <img class="content" id="bidentweet" draggable="false" src="static/img/twitterBiden.png" alt="" style>
    <p class="content">biden</p>
  </div>
  <div class="play classic three">
    <img class="content" draggable="false" src="static/img/twitterWhite.png" alt="">
    <p class="content">classic</p>
  </div>
  <div class="play two">
    <img class="content" id="cattweet" draggable="false" src="static/img/twitterCat.png" alt="">
    <p class="content">cat</p>
  </div>
  <div class="play four">
    <img class="content" draggable="false" src="static/img/twitterBlack.png" alt="">
    <p class="content">endless</p>
  </div>
</div>
<svg class="c-rocket" xmlns="http://www.w3.org/2000/svg" viewBox="-450 -450 1500 1500"><path d="M359.828 328.707L246.761 378.84l37.333 56.533 52.267-48c-5.333-21.333 3.2-44.8 23.467-58.666z" fill="#ced6e0"/><path d="M305.428 512.173l65.067-65.067c23.467-23.467 36.267-55.467 36.267-88.533-33.067 0-65.067 12.8-88.533 36.267l-65.067 65.067 52.266 52.266z" fill="#f3705a"/><path d="M120.894 176.173l-42.667 53.333 56.533 36.267 50.133-113.067c-15.999 21.334-41.599 29.867-63.999 23.467z" fill="#ced6e0"/><path d="M.361 207.107l65.067-65.067c23.467-23.467 55.467-36.267 88.533-36.267 0 33.067-12.8 65.067-36.267 88.533l-65.067 65.067L.361 207.107z" fill="#f3705a"/><g fill="#ffd15c"><path d="M322.816 495.137l-17.347 17.347-52.042-52.041 17.348-17.348zM69.392 241.284L52.045 258.63.003 206.59l17.347-17.347z"/></g><path d="M208.361 415.107C551.828 284.973 510.228-3.027 511.294 1.24c4.267 1.067-283.733-39.467-413.867 302.933l110.934 110.934z" fill="#f3f3f3"/><g fill="#415a6b"><path d="M108.094 279.64c-3.2 8.533-6.4 16-9.6 24.533L209.428 414.04c8.533-3.2 17.067-6.4 24.533-9.6l-125.867-124.8z"/><circle cx="302.228" cy="210.307" r="73.6"/></g><circle cx="302.228" cy="210.307" r="55.467" fill="#8ad7f8"/><g fill="#55c0eb"><path d="M340.628 249.773V170.84c-6.4-6.4-13.867-9.6-21.333-12.8v104.533c8.533-3.2 14.933-7.466 21.333-12.8zM294.761 155.907v108.8a25.992 25.992 0 0 0 12.8 0V154.84c-4.267 0-8.533 0-12.8 1.067z"/></g><path d="M332.094 33.24l146.133 146.133c4.267-8.533 7.467-17.067 10.667-24.533L356.628 23.64c-7.467 3.2-16 6.4-24.534 9.6z" fill="#ffd15c"/><path d="M488.894 154.84c32-86.4 22.4-155.733 22.4-153.6 2.133 0-67.2-8.533-153.6 22.4l131.2 131.2z" fill="#f3705a"/><path class="c-rocket__flame c-rocket__flame--power" d="M137.961 455.64c-22.4 22.4-137.6 56.533-137.6 56.533s34.133-115.2 56.533-137.6c22.4-22.4 58.667-22.4 80 0 22.4 22.4 22.4 58.667 1.067 81.067z" fill="#ffd15c"/><path class="c-rocket__flame" d="M137.961 421.507c-12.8 12.8-80 33.067-80 33.067s20.267-67.2 33.067-80c12.8-12.8 34.133-12.8 46.933 0 12.8 12.799 12.8 34.133 0 46.933z" fill="#f7b64c"/></svg>
<div class="box left0">
  <p></p>
</div>
<script type="text/javascript">
  $(".play.classic .content").each(function( index ) {
    $(this).click(function(){
      $(".play .content").each(function( index ) {
        $(this).unbind();
      });
      anime({
        targets: '.play.classic',
        translateX: window.innerWidth,
        translateY: -window.innerHeight/3.5,
        easing: 'easeInBack',
        complete: function(anim) {
          $(".play.classic img").css('display', 'none');
        }
      });
      anime({
        targets: '.box',
        width: window.innerWidth,
        easing: 'easeInBack',
        complete: function(anim) {
          $(".box").css("width", "100%");
          window.location.replace("play/classic");
        }
      });
      $(".play.classic p").fadeOut(200);
      $(".play.four").fadeOut(200);
      $(".play.one .content").fadeOut(200);
      $(".play.two").fadeOut(200);
    });
  });
  $(".play.two .content").each(function( index ) {
    $(this).click(function(){
      $(".play .content").each(function( index ) {
        $(this).unbind();
      });
      $(".play.three .content").fadeOut(200);
      $(".play.four").fadeOut(200);
      $(".play.one .content").fadeOut(200);
      $(".play.two p").fadeOut(200);
      function easeInOutQuad (t, b, c, d) {
        if ((t /= d / 2) < 1) return c / 2 * t * t + b;
        return -c / 2 * ((--t) * (t - 2) - 1) + b;
      }
      var time = 0;
      function spinningcat(){
        $("#cattweet").css({'transform' : 'rotate('+ easeInOutQuad(time, 0, -360*4, 500) +'deg)'});
        time++;
        if(time<500){
          setTimeout(spinningcat, 1);
        }
      }
      spinningcat();
      anime({
        targets: '.play.two',
        translateX: -window.innerWidth,
        easing: 'easeInBack',
        complete: function(anim) {
          $(".play.two img").css('display', 'none');
        }
      });
      $(".box").removeClass("left0");
      setTimeout(function(){
        anime({
          targets: '.box',
          width: window.innerWidth,
          easing: 'easeInBack',
          complete: function(anim) {
            $(".box").css("width", "100%");
            window.location.replace("play/cat");
          }
        });
      }, 50);
    });
  });
  $(".play.one .content").each(function( index ) {
    $(this).click(function(){
      $(".play .content").each(function( index ) {
        $(this).unbind();
      });
      $(".play.three").fadeOut(200);
      $(".play.four").fadeOut(200);
      $(".play.two").fadeOut(200);
      $(".play.one p").fadeOut(200);
      function easeInOutQuad (t, b, c, d) {
        if ((t /= d / 2) < 1) return c / 2 * t * t + b;
        return -c / 2 * ((--t) * (t - 2) - 1) + b;
      }
      var time = 0;
      function dothing(){
        $("#bidentweet").css({'transform' : 'rotate('+ easeInOutQuad(time, 0, 90, 50) +'deg)'});
        time++;
        if(time<50){
          setTimeout(dothing, 1);
        }
      }
      dothing();
      anime({
        targets: '.play.one',
        easing: 'easeInBack',
        duration: 600,
        translateY: window.innerHeight,
      });
      $(".box").css("width", "100%");
      $(".box").css("height", "0%");
      setTimeout(function(){
        anime({
          targets: '.box',
          height: window.innerHeight,
          easing: 'easeInOutQuad',
          complete: function(anim) {
            $(".box").css("height", "100%");
            window.location.replace("play/biden");
          }
        });
      }, 400);
    });
  });
  $(".play.four .content").each(function( index ) {
    $(this).click(function(){
      const rocket = document.querySelector('.c-rocket');
      const flames = [...document.querySelectorAll('.c-rocket__flame')];
      const delay = 40;
      let now = Date.now();
      let then = Date.now();
      let elapsed = 0;
      const random = (min, max) => Math.random() * (max - min) + min;
      const animeFlames = () => {
        now = Date.now();
        elapsed = now - then;

        if (elapsed > delay) {
          flames.map(flame => {
            flame.style.transform = `scale(${random(0.8, 1)}, ${random(0.8, 1)})`;
          });

          then = Date.now();
        }

        requestAnimationFrame(animeFlames);
      };
      requestAnimationFrame(animeFlames);
      var toturn = 45;
      $(".play.three").fadeOut(200);
      $(".play.four").fadeOut(200);
      $(".play.two").fadeOut(200);
      $(".play.one").fadeOut(200);
      $(".box").css("left", "-100%");
      $(".box").css("transform", `skewX(${toturn}deg)`);
      var transy=-window.innerHeight-$(".c-rocket").height()*0.5;
      if(window.innerHeight>window.innerWidth){
        transy = -window.innerHeight-($(".c-rocket").height());
      }
      anime({
        targets: '.c-rocket',
        translateX: window.innerWidth+$(".c-rocket").width()/2,
        translateY: transy,
        easing: 'easeInQuad',
        duration: 1250
      });
      setTimeout(function(){
        anime({
          targets: '.box',
          width: window.innerWidth*3,
          easing: 'easeInQuad',
          duration: 1250,
          complete: function(anim) {
            window.location.replace("play/endless");
          }
        });
      }, 250);
    });
  });
  $(".row").fadeOut(0);
  $(".row").fadeIn(200);
  function blink_text() {
    $('.blink').fadeOut(500);
    $('.blink').fadeIn(500);
  }
  setInterval(blink_text, 1000);
</script>
{{#def.include('template/foot')}}
